---
import Navbar from "../components/Navbar.astro";
import SearchIsland from "../components/react/SearchIsland.jsx";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");

// ترتيب حسب التاريخ
const sorted = posts.sort(
  (a, b) => new Date(b.data.date) - new Date(a.data.date)
);
---

<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <title>المدونة</title>
  </head>

  <body>
    <Navbar />

    <h1>أرشيف المقالات</h1>

    <SearchIsland posts={sorted} client:load />

  </body>
</html>
