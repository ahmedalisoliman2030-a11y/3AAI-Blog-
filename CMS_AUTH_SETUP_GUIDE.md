# ๐ ุฅุนุฏุงุฏ GitHub OAuth ูู Decap CMS

## โ ูุง ุงููุดููุฉุ

ุนูุฏ ูุญุงููุฉ ุชุณุฌูู ุงูุฏุฎูู ูู `/admin`ุ ุชุธูุฑ ุฑุณุงูุฉ "Not Found" ูุฃู Netlify ูุง ูุนุฑู ููู ูุชุนุงูู ูุน GitHub OAuth.

---

## โ ุงูุญู: ุฅูุดุงุก GitHub OAuth App

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก OAuth App ุนูู GitHub

1. **ุงุฐูุจ ุฅูู:** https://github.com/settings/developers
2. **ุงุถุบุท ุนูู:** "OAuth Apps" (ูู ุงููุงุฆูุฉ ุงููุณุฑู)
3. **ุงุถุบุท:** "New OAuth App"

### ุงูุฎุทูุฉ 2: ููุก ุงูุจูุงูุงุช

**Application name:**
```
Dawen CMS
```

**Homepage URL:**
```
https://splendid-crumble-330ff8.netlify.app
```
(ุฃู `https://demo-dawen.netlify.app` ุฅุฐุง ุบูุฑุช ุงูุงุณู)

**Application description:** (ุงุฎุชูุงุฑู)
```
CMS for Dawen Blog
```

**Authorization callback URL:** โ๏ธ **ููู ุฌุฏุงู!**
```
https://api.netlify.com/auth/done
```

### ุงูุฎุทูุฉ 3: ุฅูุดุงุก Client Secret

1. ุจุนุฏ ุฅูุดุงุก ุงูู OAuth Appุ ุงุถุบุท **"Generate a new client secret"**
2. **ุงูุณุฎ:**
   - **Client ID** (ูุซู: `Iv1.abc123def456`)
   - **Client Secret** (ูุซู: `1234567890abcdef...`) โ๏ธ ุงุญูุธู ููุฑุงู!

---

## ๐ง ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ุงููุชุบูุฑุงุช ูู Netlify

### 1. ุงุฐูุจ ุฅูู Netlify Dashboard

```
https://app.netlify.com
```

### 2. ุงุฎุชุฑ ูููุนู

`splendid-crumble-330ff8` (ุฃู `demo-dawen`)

### 3. ุงุฐูุจ ุฅูู Site Settings โ Environment Variables

**ุงููุณุงุฑ:**
```
Site settings โ Environment variables โ Add a variable
```

### 4. ุฃุถู ุงููุชุบูุฑูู ุงูุชุงูููู:

**ุงููุชุบูุฑ ุงูุฃูู:**
- **Key:** `GITHUB_OAUTH_CLIENT_ID`
- **Value:** (ุงูุตู Client ID ูู GitHub)

**ุงููุชุบูุฑ ุงูุซุงูู:**
- **Key:** `GITHUB_OAUTH_CLIENT_SECRET`
- **Value:** (ุงูุตู Client Secret ูู GitHub)

### 5. ุงุญูุธ ุงูุชุบููุฑุงุช

ุงุถุบุท **"Save"** ุฃู **"Add variable"**

---

## ๐ ุงูุฎุทูุฉ 4: ุฅุนุงุฏุฉ ุงููุดุฑ

ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑุงุช:

1. **ุงุฐูุจ ุฅูู:** Deploys
2. **ุงุถุบุท:** "Trigger deploy" โ "Deploy site"
3. **ุงูุชุธุฑ** ุญุชู ููุชูู ุงููุดุฑ (1-2 ุฏูููุฉ)

---

## ๐งช ุงูุฎุทูุฉ 5: ุงูุงุฎุชุจุงุฑ

1. **ุงุฐูุจ ุฅูู:**
   ```
   https://splendid-crumble-330ff8.netlify.app/admin
   ```

2. **ุงุถุบุท "Login with GitHub"**

3. **ุณูุชู ุชูุฌููู ูู GitHub** ููููุงููุฉ ุนูู ุงูุตูุงุญูุงุช

4. **ุจุนุฏ ุงูููุงููุฉ** ุณุชุนูุฏ ูููุญุฉ ุงูุชุญูู โ

---

## ๐ฏ ุงูุญู ุงูุจุฏูู ุงูุฃุณูู: ุงุณุชุฎุฏุงู Netlify Identity (ููุตู ุจู)

ุฅุฐุง ูุงูุช ุงูุทุฑููุฉ ุงูุณุงุจูุฉ ูุนูุฏุฉุ ููููู ุงุณุชุฎุฏุงู **Netlify Identity** (ุฃุณูู):

### ุงูุฎุทูุฉ 1: ุชูุนูู Netlify Identity

1. **ูู Netlify Dashboard** โ ุงุฎุชุฑ ูููุนู
2. **ุงุฐูุจ ุฅูู:** Site settings โ Identity
3. **ุงุถุบุท:** "Enable Identity"

### ุงูุฎุทูุฉ 2: ุชูุนูู Git Gateway

1. **ูู ููุณ ุงูุตูุญุฉ** (Identity)
2. **ุงุฐูุจ ุฅูู:** Services โ Git Gateway
3. **ุงุถุบุท:** "Enable Git Gateway"

### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ config.yml

```yaml
backend:
  name: git-gateway
  branch: main
```

### ุงูุฎุทูุฉ 4: ุฏุนูุฉ ููุณู

1. **ูู Identity** โ ุงุถุบุท "Invite users"
2. **ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู**
3. **ุณุชุตูู ุฏุนูุฉ** - ุงูุชุญูุง ูุฃูุดุฆ ูููุฉ ูุฑูุฑ

### ุงูุฎุทูุฉ 5: ุชุณุฌูู ุงูุฏุฎูู

```
https://splendid-crumble-330ff8.netlify.app/admin
```

ุณุฌูู ุฏุฎูู ุจุงูุจุฑูุฏ ููููุฉ ุงููุฑูุฑ โ

---

## ๐ ููุงุฑูุฉ ุงูุทุฑููุชูู

| ุงูููุฒุฉ | GitHub OAuth | Netlify Identity |
|--------|--------------|------------------|
| **ุงูุณูููุฉ** | โญโญ ูุชูุณุท | โญโญโญ ุณูู |
| **ุงูุฅุนุฏุงุฏ** | ูุชุทูุจ OAuth App | ุชูุนูู ููุท |
| **ุงูุชูููุฉ** | ูุฌุงูู | ูุฌุงูู (ุญุชู 1000 ูุณุชุฎุฏู) |
| **ุงูุฃูุงู** | โญโญโญ ููุชุงุฒ | โญโญโญ ููุชุงุฒ |
| **ููุตู ุจู** | ูููุทูุฑูู | ููุฌููุน โ |

---

## ๐ฏ ุงูุชูุตูุฉ

**ููุงุณุชุฎุฏุงู ุงูุดุฎุตู:** ุงุณุชุฎุฏู **Netlify Identity** (ุฃุณูู ูุฃุณุฑุน)

**ูููุดุงุฑูุน ุงููุจูุฑุฉ:** ุงุณุชุฎุฏู **GitHub OAuth** (ุฃูุซุฑ ูุฑููุฉ)

---

## ๐ง ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ (Netlify Identity)

```
1. Netlify โ Site settings โ Identity โ Enable Identity
2. Services โ Git Gateway โ Enable Git Gateway
3. Identity โ Invite users โ ุฃุฏุฎู ุจุฑูุฏู
4. ุงูุชุญ ุงูุฏุนูุฉ ูู ุงูุจุฑูุฏ โ ุฃูุดุฆ ูููุฉ ูุฑูุฑ
5. /admin โ ุณุฌูู ุฏุฎูู โ ุงุจุฏุฃ ุงููุชุงุจุฉ! โ
```

---

**ููุงุญุธุฉ:** ุฅุฐุง ุงุฎุชุฑุช Netlify Identityุ ูุฌุจ ุชุญุฏูุซ `config.yml`:

```yaml
backend:
  name: git-gateway  # ุจุฏูุงู ูู github
  branch: main
```

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู:** 2025-12-02  
**ุงููุดุฑูุน:** ุฏูููู (Dawen)
