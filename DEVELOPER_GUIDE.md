# ุฏููู ุงููุทูุฑ (Developer Guide)

ูุฐุง ุงูุฏููู ููุฌู ูููุทูุฑูู ุงูุฐูู ูุฑุบุจูู ูู ููู ุงูุจููุฉ ุงูุชูููุฉ ูููุดุฑูุนุ ุฃู ุงููุณุงููุฉ ูููุ ุฃู ููู ุชูุงุตูู ุงูุงูุชูุงู ูู Decap CMS ุฅูู Keystatic.

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

ุงููุดุฑูุน ูุจูู ุจุงุณุชุฎุฏุงู **Astro** ูุฅุทุงุฑ ุนูู ุฃุณุงุณูุ ูุน **React** ููููููุงุช ุงูุชูุงุนููุฉุ ู **Keystatic** ูุฅุฏุงุฑุฉ ุงููุญุชูู.

### ูููู ุงููููุงุช ุงูุฑุฆูุณู

```
/
โโโ keystatic.config.ts    # ุฅุนุฏุงุฏุงุช Keystatic (Schema)
โโโ astro.config.mjs       # ุฅุนุฏุงุฏุงุช Astro (ุชูุงูู Keystatic & Markdoc)
โโโ src/
โ   โโโ content/           # ุงููุญุชูู (ููุฏุงุฑ ุจูุงุณุทุฉ Keystatic)
โ   โ   โโโ blog/          # ูููุงุช ุงูููุงูุงุช (.mdoc)
โ   โ   โโโ authors/       # ูููุงุช ุงููุคูููู (.yaml/.mdoc)
โ   โ   โโโ settings/      # ุฅุนุฏุงุฏุงุช ุงููููุน (.json/.yaml)
โ   โโโ components/        # ููููุงุช ุงููุงุฌูุฉ (Astro/React)
โ   โโโ layouts/           # ุชุฎุทูุทุงุช ุงูุตูุญุงุช
โ   โโโ pages/             # ูุณุงุฑุงุช ุงููููุน (Routes)
โ       โโโ keystatic/     # ูุณุงุฑ ููุญุฉ ุงูุชุญูู
โโโ public/                # ุงููููุงุช ุงูุนุงูุฉ ูุงูุตูุฑ
```

---

## ๐ ููุฎุต ุงูุงูุชูุงู (Migration Summary)

ุชู ููู ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู ูู **Decap CMS** ุฅูู **Keystatic** ููุฃุณุจุงุจ ุงูุชุงููุฉ:
1. **Local-First:** ุฅููุงููุฉ ุฅุฏุงุฑุฉ ุงููุญุชูู ูุญููุงู ุฏูู ุงูุญุงุฌุฉ ูุงุชุตุงู ุจุงูุฅูุชุฑูุช ุฃู ุฎูุงุฏู ุฎุงุฑุฌูุฉ.
2. **Type Safety:** ุชูุงูู ุฃูุถู ูุน TypeScript.
3. **ุงููุฑููุฉ:** ุณูููุฉ ุงูุชุนุงูู ูุน ุงูุญููู ุงููุฎุตุตุฉ ูุงูุนูุงูุงุช ุจูู ุงูุจูุงูุงุช.
4. **ุฏุนู ุงูุนุฑุจูุฉ:** ุญู ูุดุงูู ุงูุฑูุงุจุท (Slugs) ูุน ุงูุนูุงููู ุงูุนุฑุจูุฉ.

### ุงูุชุบููุฑุงุช ุงูุฑุฆูุณูุฉ ุงูุชู ุชูุช:

1. **ุฅุฒุงูุฉ Decap CMS:**
   - ุญุฐู ูุฌูุฏ `public/admin`.
   - ุฅุฒุงูุฉ ุณูุฑูุจุชุงุช Netlify Identity.

2. **ุชุซุจูุช Keystatic & Markdoc:**
   - ุฅุถุงูุฉ `@keystatic/astro` ู `@astrojs/markdoc`.
   - ุฅูุดุงุก ููู `keystatic.config.ts` ูุชุนุฑูู ูููู ุงูุจูุงูุงุช (Schema).

3. **ุชุญููู ุงููุญุชูู:**
   - ุชุญููู ูููุงุช `.md` ุฅูู `.mdoc`.
   - ูุตู ุญูู `slug` (ุงุณู ุงูููู) ุนู `title` (ุงูุนููุงู) ูู ุงูู Frontmatter ูุฏุนู ุงูุนูุงููู ุงูุนุฑุจูุฉ ุจุฃุณูุงุก ูููุงุช ุฅูุฌููุฒูุฉ ูุธููุฉ.

---

## ๐๏ธ ุงูุชุนุงูู ูุน Keystatic ุจุฑูุฌูุงู

### 1. ููู ุงูุฅุนุฏุงุฏุงุช (`keystatic.config.ts`)

ูุฐุง ุงูููู ูู "ููุจ" ูุธุงู ุฅุฏุงุฑุฉ ุงููุญุชูู. ููุง ูุนุฑูู ุงููุฌููุนุงุช (Collections) ูุงูุตูุญุงุช ุงููุฑุฏูุฉ (Singletons).

ูุซุงู ูุชุนุฑูู ูุฌููุนุฉ "ุงูููุงูุงุช":

```typescript
blog: collection({
  label: 'ุงูููุงูุงุช',
  slugField: 'slug', // ุงูุญูู ุงููุณุชุฎุฏู ูุงุณู ููููู
  path: 'src/content/blog/*', // ูุณุงุฑ ุงูุญูุธ
  format: { contentField: 'content' }, // ุงุณุชุฎุฏุงู Markdoc ูููุญุชูู
  schema: {
    title: fields.slug({ name: { label: 'ุงูุนููุงู' } }),
    slug: fields.text({ label: 'ุงูุฑุงุจุท (Slug)', description: 'ุงุณู ุงูููู ุจุงูุฅูุฌููุฒูุฉ' }),
    // ... ุจุงูู ุงูุญููู
  },
}),
```

### 2. ุงุณุชุฎุฏุงู ุงููุญุชูู ูู Astro

ูุณุชุฎุฏู `getCollection` ูู `astro:content` ูุฌูุจ ุงูุจูุงูุงุชุ ุชูุงูุงู ููุง ูู Astro ุงูุนุงุฏูุ ููู ูุน ุฏุนู ููู ูู Markdoc.

```typescript
import { getCollection } from 'astro:content';
const posts = await getCollection('blog');
```

---

## ๐งฉ ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ

### ุฅุถุงูุฉ ุญูู ุฌุฏูุฏ ููููุงูุงุช

1. ุงูุชุญ `keystatic.config.ts`.
2. ุงุฐูุจ ุฅูู `collections.blog.schema`.
3. ุฃุถู ุงูุญูู ุงูุฌุฏูุฏ:
   ```typescript
   readingTime: fields.integer({ label: 'ููุช ุงููุฑุงุกุฉ (ุฏูุงุฆู)' }),
   ```
4. ุงูุชุญ `src/content/config.ts` ูุญุฏุซ ุชุนุฑูู ุงูู Collection ูู Astro (Zod Schema) ููุชุทุงุจู ูุน Keystatic.

### ุฅุถุงูุฉ ููุน ูุญุชูู ุฌุฏูุฏ (ูุซูุงู: ูุดุงุฑูุน)

1. ุนุฑูู Collection ุฌุฏูุฏ ูู `keystatic.config.ts`.
2. ุฃูุดุฆ ูุฌูุฏ `src/content/projects`.
3. ุนุฑูู ุงูู Collection ูู `src/content/config.ts`.

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### ูุดููุฉ: "Field validation failed"
- **ุงูุณุจุจ:** ุงูุจูุงูุงุช ูู ูููุงุช ุงููุญุชูู (`.mdoc`) ูุง ุชุทุงุจู ุงูู Schema ูู `keystatic.config.ts`.
- **ุงูุญู:** ุชุฃูุฏ ูู ุฃู ุงูุญููู ุงููุทููุจุฉ ููุฌูุฏุฉ ูู ุฌููุน ุงููููุงุช.

### ูุดููุฉ: ุงูุตูุฑ ูุง ุชุธูุฑ
- **ุงูุณุจุจ:** ูุณุงุฑ ุงูุตูุฑุฉ ุบูุฑ ุตุญูุญ.
- **ุงูุญู:** Keystatic ูุญูุธ ุงูุตูุฑ ูู `public/images/`. ุชุฃูุฏ ูู ุฃู ุงููุณุงุฑ ูู ุงูู Frontmatter ูุจุฏุฃ ุจู `/images/`.

---

## ๐งช ุงูุงุฎุชุจุงุฑ

- **Unit Tests:** ูููู ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ููููููุงุช ุจุงุณุชุฎุฏุงู Vitest.
- **E2E Tests:** ูููู ุงุณุชุฎุฏุงู Playwright ูุงุฎุชุจุงุฑ ุชุฏูู ุฅูุดุงุก ุงููุญุชูู ูู Keystatic (ุงุฎุชูุงุฑู).

---

## ๐ ูุตุงุฏุฑ ูููุฏุฉ

- [ุชูุซูู Keystatic](https://keystatic.com/docs)
- [ุชูุซูู Astro](https://docs.astro.build/)
- [ุชูุซูู Markdoc](https://markdoc.dev/)
